var assert = require('assert');
var dns    = require('../js/dns');

const positive = (fn, vals) => it ('positive', () => vals.map(s => assert( fn(s), s)));
const negative = (fn, vals) => it ('negtive' , () => vals.map(s => assert(!fn(s), s)));

describe('dns', function() {
  describe('isIp', function() {
    positive(dns.isIp, ['0.0.0.0', '255.255.255.255', '1.2.3.4'  ]);
    negative(dns.isIp, ['1','1.2', '1.2.3', '1.2.3.', '1.2.3.256']);
  });
  describe('isHost', function(){
    positive(dns.isHost, ['www.canright.com', 'nice.canright.com', 'canright.com', 'canright.ws', 'canright.an', 'ca.com', 'can.ws', 'ca.an']);
    negative(dns.isHost, ['canright.n', 'c.an', 'c.com', '.can.com']);
  });
/*
  describe('dns_lookup', function() {
    it('respond with address and family', function() {
      return dns.dns_lookup('canright.com').then(o=>JSON.stringify(o));
    })
  });
*/
});
